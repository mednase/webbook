{% extends '@Main/layout.html.twig' %}
{% trans_default_domain 'FOSUserBundle' %}

{% block title %}
    Creation d'un nouveau livre
{% endblock %}

{% block classBody %}
    page-container-bg-solid page-header-fixed
{% endblock %}
{% block body %}
    <!-- BEGIN PAGE BASE CONTENT -->
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li>
                <i class="fa fa-home"></i>
                <a href="{{ url('administrator_homepage') }}">Tableau de bord</a>
                <i class="fa fa-angle-right"></i>
            </li>
            <li>
                <span class="active">Creation d'un nouveau livre</span>
            </li>

        </ul>
    </div>
    <div class="m-heading-1 border-green m-bordered row" style="margin-bottom: 17px;">
        <h2 style="margin-left: 36px!important;"><span class="icon-c-book-plus"></span> &nbsp; Creation d'un nouveau livre </h2>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="portlet box red">
                <div class="portlet-title">
                    <div class="tools">
                        <a href="javascript:;" data-placement="bottom" class="collapse" data-original-title="reduire" title=""> </a>
                        <a href="" class="fullscreen" data-placement="bottom" data-original-title="plein ecran" title=""> </a>
                    </div>
                </div>
                <div class="portlet-body col-md-12 ">
                    {{ form_start(form,{'attr':{enctype:"multipart/form-data",class:'form-horizantal',novalidate:true}}) }}
                    <div class="form-group row">
                        {{ form_label(form.title, null,{ 'label_attr': {'class': 'col-sm-2 col-sm-offset-1 control-label'}}) }}
                        <div class="col-sm-8">
                            {{ form_widget(form.title,{"attr":{"class":"form-control rq",'data-minLn':2}}) }}
                            <span id="fname-error" class="help-block with-errors" >Vous devez entrer le titre de livre <small>( 2 caractéres au minimum )</small></span>
                        </div>
                    </div>
                    <div class="row form-group">
                        {{ form_label(form.category, null,{ 'label_attr': {'class': 'col-sm-2 col-sm-offset-1 control-label'}}) }}
                        <div class="col-md-8">
                            {{ form_widget(form.category,{"attr":{"class":"form-control rq"}}) }}
                            <span id="fname-error" class="help-block with-errors" >Vous devez choisir la catégorie du livre</span>
                        </div>
                    </div>
                    <div class="row form-group">
                        {{ form_label(form.language, null,{ 'label_attr': {'class': 'col-sm-2 col-sm-offset-1 control-label'}}) }}
                        <div class="col-sm-8">
                            {{ form_widget(form.language,{"attr":{"class":"form-control rq"}}) }}
                            <span id="fname-error" class="help-block with-errors" >Vous devez choisir la langue du livre</span>
                        </div>
                    </div>
                    <div class="row form-group">
                        {{ form_label(form.iSBN, null,{ 'label_attr': {'class': 'col-sm-2 col-sm-offset-1 control-label'}}) }}
                        <div class="col-sm-8">
                            {{ form_widget(form.iSBN,{"attr":{"class":"form-control rq"}}) }}
                            <span id="fname-error" class="help-block with-errors" >Ce champs est obligatoire.</span>
                        </div>
                    </div>
                    <div class="row form-group">
                        {{ form_label(form.price, null,{ 'label_attr': {'class': 'col-sm-2 col-sm-offset-1 control-label'}}) }}
                        <div class="col-sm-8">
                            {{ form_widget(form.price,{"attr":{"class":"form-control"}}) }}
                        </div>
                    </div>
                    <div class="row form-group">
                        {{ form_label(form.mainAuthors, null,{ 'label_attr': {'class': 'col-sm-2 col-sm-offset-1 control-label'}}) }}
                        <div class="col-sm-8 select2-bootstrap-append">
                            {{ form_widget(form.mainAuthors,{"attr":{"class":"form-control select2 rq"}}) }}
                            <span id="fname-error" class="help-block with-errors" >Vous devez choisir au moin un auteur.</span>
                        </div>
                    </div>
                    <div class="row form-group">
                        <label class="col-sm-2 col-sm-offset-1 control-label">Images</label>
                        <div class="col-sm-8 ">
                            <input type="file" name="images[]" multiple accept="image/*" class="imageBook">
                            <span  class="help-block " >La resolution des images doit être (400 X 600) </span>
                        </div>
                    </div>

                    <div class="row form-group">
                        {{ form_label(form.description, null,{ 'label_attr': {'class': 'col-sm-2 col-sm-offset-1 control-label'}}) }}
                        <div class="col-sm-8">
                            {{ form_widget(form.description,{"attr":{"class":"form-control rq",'data-minln':20}}) }}
                            <span id="fname-error" class="help-block with-errors" >Vous devez écrire la description du livre <small>( 20 caractéres au minimum )</small> .</span>
                        </div>
                    </div>
                    <div class="row form-group">
                        {{ form_label(form.publishedPreview, null,{ 'label_attr': {'class': 'col-sm-2 col-sm-offset-1 control-label'}}) }}
                        <div class="col-sm-8 custom-check col-sm-offset-1">
                            {{ form_widget(form.publishedPreview,{"attr":{"class":" custom-check-input"}}) }}
                        </div>
                    </div>
                    <div class="text-center col-md-12" style="margin-top: 10px">
                        <button class="btn green">Sauvegarder</button>
                    </div>
                    {{ form_end(form) }}
                </div>
            </div>
        </div>
    </div>
    <input type="hidden" value="" id="menuSelected" data-menu="page-new-book">
{% endblock %}
{% block stylesheets %}
    <style>
        .m-heading-1>h2>span{
            font-size: 40px;
            margin-left: -40px;
            position: absolute;
            margin-top: -5px;
        }
    </style>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('assets/pages/js/book.validation.js') }}"></script>
{% endblock %}
